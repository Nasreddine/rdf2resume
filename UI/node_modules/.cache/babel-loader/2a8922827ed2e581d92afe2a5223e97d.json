{"ast":null,"code":"var _jsxFileName = \"/home/eelezi/thesis/rdf2resume/src/components/Dashboard/Forms/Modals/FormReference/ReferenceCard.jsx\";\nimport React, { Component } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserCircle, faEdit, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { removeReference } from \"../../../../../actions\";\nimport ReferenceModal from \"./ReferenceModal\";\nimport { fetchCountries, fetchTitleProperties } from \"../../../../../actions/utilityActions\";\nimport { retrieveCountryValues, retrieveBaseProperties } from \"../../../../../utilities/utilityQueries\";\n\nclass ReferenceCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editMode: false,\n      key: 0\n    };\n\n    this.handleCloseEdit = () => {\n      let key = this.state.key;\n      this.setState({\n        editMode: false,\n        key: ++key\n      });\n    };\n\n    this.handleShowEdit = () => {\n      let key = this.state.key;\n      this.setState({\n        editMode: true,\n        key: ++key\n      });\n    };\n\n    this.handleUpdateClick = () => {\n      this.setState({\n        editMode: true\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.props.fetchCountries();\n    this.props.fetchTitleProperties();\n  }\n\n  findInArray(data, name) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      let index = data[i][\"@type\"].indexOf(name);\n      let newlength = data[i][\"@type\"].length;\n\n      if (index >= 0 && index + name.length >= newlength) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n\n    if (translated[index] === undefined || translated[index][lang] === undefined) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  findTranslatedValue(data, lang) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@language\"] === lang) {\n        return data[i][\"@value\"];\n      }\n    }\n  }\n\n  render() {\n    let _this$props$reference = this.props.referenceObj[\"my0:referenceBy\"],\n        title = _this$props$reference[\"my0:title\"],\n        firstName = _this$props$reference[\"my0:firstName\"],\n        lastName = _this$props$reference[\"my0:lastName\"],\n        address = _this$props$reference[\"my0:address\"],\n        email = _this$props$reference[\"my0:email\"],\n        phoneNumberWork = _this$props$reference[\"my0:phoneNumberWork\"];\n    let refRelationDescription = this.props.referenceObj[\"my0:refRelationDescription\"];\n    let city = address[\"my0:city\"],\n        country = address[\"my0:country\"],\n        street = address[\"my0:street\"],\n        postalCode = address[\"my0:postalCode\"];\n    let lang = this.props.language;\n    return React.createElement(Card, {\n      style: {\n        width: \"18rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faEdit,\n      onClick: () => this.handleUpdateClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      onClick: () => this.props.removeReference(this.props.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"card-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faUserCircle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.renderLabel(this.props.titles, title, lang), \" \", firstName, \" \", lastName), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.findTranslatedValue(street, lang)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \" \", postalCode, \" \", \" \", \" \", this.findTranslatedValue(city, lang), \" \"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.renderLabel(this.props.countries, country, lang))), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, phoneNumberWork), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Card.Link, {\n      href: \"mailto:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, email)), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.findTranslatedValue(refRelationDescription, lang))), React.createElement(ReferenceModal, {\n      show: this.state.editMode,\n      isUpdate: true,\n      id: this.props.id,\n      onHide: this.handleCloseEdit,\n      key: this.state.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapstateToProps = state => {\n  return {\n    language: state.utility.language,\n    countries: retrieveCountryValues(state.utility.countryValues),\n    titles: retrieveBaseProperties(state.utility.titleValues)\n  };\n};\n\nexport default connect(mapstateToProps, {\n  removeReference,\n  fetchCountries,\n  fetchTitleProperties\n})(ReferenceCard);","map":{"version":3,"sources":["/home/eelezi/thesis/rdf2resume/src/components/Dashboard/Forms/Modals/FormReference/ReferenceCard.jsx"],"names":["React","Component","Card","connect","FontAwesomeIcon","faUserCircle","faEdit","faTrash","removeReference","ReferenceModal","fetchCountries","fetchTitleProperties","retrieveCountryValues","retrieveBaseProperties","ReferenceCard","state","editMode","key","handleCloseEdit","setState","handleShowEdit","handleUpdateClick","componentWillMount","props","findInArray","data","name","length","i","index","indexOf","newlength","renderLabel","translated","lang","undefined","findTranslatedValue","render","referenceObj","title","firstName","lastName","address","email","phoneNumberWork","refRelationDescription","city","country","street","postalCode","language","width","id","titles","countries","mapstateToProps","utility","countryValues","titleValues"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUserCircle,\n  faEdit,\n  faTrash\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { removeReference } from \"../../../../../actions\";\nimport ReferenceModal from \"./ReferenceModal\";\nimport {\n  fetchCountries,\n  fetchTitleProperties\n} from \"../../../../../actions/utilityActions\";\nimport {\n  retrieveCountryValues,\n  retrieveBaseProperties\n} from \"../../../../../utilities/utilityQueries\";\n\nclass ReferenceCard extends Component {\n  state = {\n    editMode: false,\n    key: 0\n  };\n\n  componentWillMount() {\n    this.props.fetchCountries();\n    this.props.fetchTitleProperties();\n  }\n\n  handleCloseEdit = () => {\n    let key = this.state.key;\n    this.setState({ editMode: false, key: ++key });\n  };\n\n  handleShowEdit = () => {\n    let key = this.state.key;\n    this.setState({ editMode: true, key: ++key });\n  };\n\n  handleUpdateClick = () => {\n    this.setState({\n      editMode: true\n    });\n  };\n\n  findInArray(data, name) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      let index = data[i][\"@type\"].indexOf(name);\n      let newlength = data[i][\"@type\"].length;\n      if (index >= 0 && index + name.length >= newlength) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n    if (\n      translated[index] === undefined ||\n      translated[index][lang] === undefined\n    ) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  findTranslatedValue(data, lang) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@language\"] === lang) {\n        return data[i][\"@value\"];\n      }\n    }\n  }\n\n  render() {\n    let {\n      \"my0:title\": title,\n      \"my0:firstName\": firstName,\n      \"my0:lastName\": lastName,\n      \"my0:address\": address,\n      \"my0:email\": email,\n      \"my0:phoneNumberWork\": phoneNumberWork\n    } = this.props.referenceObj[\"my0:referenceBy\"];\n\n    let {\n      \"my0:refRelationDescription\": refRelationDescription\n    } = this.props.referenceObj;\n\n    let {\n      \"my0:city\": city,\n      \"my0:country\": country,\n      \"my0:street\": street,\n      \"my0:postalCode\": postalCode\n    } = address;\n\n    let lang = this.props.language;\n\n    return (\n      <Card style={{ width: \"18rem\" }}>\n        <Card.Header>\n          <FontAwesomeIcon\n            icon={faEdit}\n            onClick={() => this.handleUpdateClick()}\n          />\n          <FontAwesomeIcon\n            icon={faTrash}\n            onClick={() => this.props.removeReference(this.props.id)}\n          />\n        </Card.Header>\n        <div className=\"card-icon\">\n          <FontAwesomeIcon icon={faUserCircle} />\n        </div>\n        <Card.Body>\n          <Card.Title>\n            {this.renderLabel(this.props.titles, title, lang)} {firstName}{\" \"}\n            {lastName}\n          </Card.Title>\n          <Card.Text>\n            <p>{this.findTranslatedValue(street, lang)}</p>\n            <p>\n              {\" \"}\n              {postalCode} {\" \"} {this.findTranslatedValue(city, lang)}{\" \"}\n            </p>\n            <p>{this.renderLabel(this.props.countries, country, lang)}</p>\n          </Card.Text>\n          <Card.Text>{phoneNumberWork}</Card.Text>\n          <Card.Text>\n            <Card.Link href=\"mailto:\">{email}</Card.Link>\n          </Card.Text>\n          <Card.Text>\n            {this.findTranslatedValue(refRelationDescription, lang)}\n          </Card.Text>\n        </Card.Body>\n        <ReferenceModal\n          show={this.state.editMode}\n          isUpdate={true}\n          id={this.props.id}\n          onHide={this.handleCloseEdit}\n          key={this.state.key}\n        />\n      </Card>\n    );\n  }\n}\n\nconst mapstateToProps = state => {\n  return {\n    language: state.utility.language,\n    countries: retrieveCountryValues(state.utility.countryValues),\n    titles: retrieveBaseProperties(state.utility.titleValues)\n  };\n};\n\nexport default connect(\n  mapstateToProps,\n  { removeReference, fetchCountries, fetchTitleProperties }\n)(ReferenceCard);\n"]},"metadata":{},"sourceType":"module"}