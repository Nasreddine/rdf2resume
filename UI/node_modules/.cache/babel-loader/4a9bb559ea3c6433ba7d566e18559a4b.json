{"ast":null,"code":"import _objectSpread from \"/home/eelezi/thesis/rdf2resume/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/eelezi/thesis/rdf2resume/src/components/Dashboard/Forms/Modals/FormCourse/CourseModal.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Row, Col, Button } from \"react-bootstrap\";\nimport { Combobox } from \"react-widgets\";\nimport Swal from \"sweetalert2\";\nimport CustomTextarea from \"../../../../core/CustomTextarea\";\nimport CustomInput from \"../../../../core/CustomInput\";\nimport CustomCheckbox from \"../../../../core/CustomCheckbox\";\nimport { createCourse, updateCourse } from \"../../../../../actions\";\nimport { fetchCountries, fetchMainPropertiess } from \"../../../../../actions/utilityActions\";\nimport { retrieveCountryValues, retrieveMainProperties } from \"../../../../../utilities/utilityQueries\";\nimport { courseAddTitle, courseUpdateTitle, cancelLabel, resetLabel, saveLabel, updateLabel, startDate, endDate } from \"../../../../../translations/translations\";\n\nclass CourseModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      course: {\n        \"@type\": \"my0:Course\",\n        \"my0:hasCertification\": true,\n        \"my0:courseTitle\": \"\",\n        \"my0:courseDescription\": \"\",\n        \"my0:courseURL\": \"\",\n        \"my0:courseStartDate\": \"\",\n        \"my0:courseFinishDate\": \"\",\n        \"my0:hasQualification\": \"\",\n        \"my0:organizedBy\": {\n          \"@type\": \"my0:Organization\",\n          \"my0:orgName\": \"\",\n          \"my0:orgAddress\": {\n            \"@type\": \"Address\",\n            \"my0:city\": \"\",\n            \"my0:country\": \"\",\n            \"my0:street\": \"\",\n            \"my0:postalCode\": \"\"\n          },\n          \"my0:orgDescription\": \"\",\n          \"my0:orgPhoneNumber\": \"\",\n          \"my0:orgWebsite\": \"\"\n        }\n      }\n    };\n\n    this.setInitialValues = () => {\n      if (this.props.id !== null && this.props.isUpdate === true) {\n        let inputRef = this.props.initialValues;\n\n        let course = _objectSpread({}, this.state.course);\n\n        course[\"my0:hasCertification\"] = inputRef[\"my0:hasCertification\"];\n        course[\"my0:courseTitle\"] = inputRef[\"my0:courseTitle\"];\n        course[\"my0:courseDescription\"] = inputRef[\"my0:courseDescription\"];\n        course[\"my0:courseURL\"] = inputRef[\"my0:courseURL\"];\n        course[\"my0:courseStartDate\"] = inputRef[\"my0:courseStartDate\"];\n        course[\"my0:courseFinishDate\"] = inputRef[\"my0:courseFinishDate\"];\n        course[\"my0:hasQualification\"] = inputRef[\"my0:hasQualification\"];\n        course[\"my0:organizedBy\"] = inputRef[\"my0:organizedBy\"];\n        this.setState({\n          course\n        });\n      }\n    };\n\n    this.clearForm = () => {\n      if (!this.props.isUpdate) {\n        this.setState({\n          course: {\n            \"@type\": \"my0:Course\",\n            \"my0:hasCertification\": true,\n            \"my0:courseTitle\": \"\",\n            \"my0:courseDescription\": \"\",\n            \"my0:courseURL\": \"\",\n            \"my0:courseStartDate\": \"\",\n            \"my0:courseFinishDate\": \"\",\n            \"my0:hasQualification\": \"\",\n            \"my0:organizedBy\": {\n              \"@type\": \"my0:Organization\",\n              \"my0:orgName\": \"\",\n              \"my0:orgAddress\": {\n                \"@type\": \"Address\",\n                \"my0:city\": \"\",\n                \"my0:country\": \"\",\n                \"my0:street\": \"\",\n                \"my0:postalCode\": \"\"\n              },\n              \"my0:orgDescription\": \"\",\n              \"my0:orgPhoneNumber\": \"\",\n              \"my0:orgWebsite\": \"\"\n            }\n          }\n        });\n      } else {\n        this.setInitialValues();\n      }\n    };\n\n    this.handleCheckboxChange = e => {\n      let course = _objectSpread({}, this.state.course);\n\n      course[e.target.id] = e.target.checked;\n      this.setState({\n        course\n      });\n    };\n\n    this.handleInputChange = e => {\n      let obj = _objectSpread({}, this.state.course);\n\n      let label = e.target.id;\n\n      if (label === \"my0:courseStartDate\") {\n        if (e.target.value > new Date().toJSON().slice(0, 10).replace(/-/g, \"-\")) {\n          Swal.fire({\n            title: \"Warning!\",\n            text: startDate[this.props.language],\n            type: \"warning\",\n            confirmButtonColor: \"#4bb3cc\",\n            heightAuto: false,\n            confirmButtonText: \"Okay\"\n          });\n          return;\n        }\n      }\n\n      if (label === \"my0:courseFinishDate\") {\n        if (e.target.value < this.state.course[\"my0:courseStartDate\"]) {\n          Swal.fire({\n            title: \"Warning!\",\n            text: endDate[this.props.language],\n            type: \"warning\",\n            confirmButtonColor: \"#4bb3cc\",\n            heightAuto: false,\n            confirmButtonText: \"Okay\"\n          });\n          return;\n        }\n      }\n\n      if (e.target.name === \"org\") {\n        obj[\"my0:organizedBy\"][label] = e.target.value;\n      } else if (e.target.name === \"address\") {\n        obj[\"my0:organizedBy\"][\"my0:orgAddress\"][label] = e.target.value;\n      } else {\n        obj[label] = e.target.value;\n      }\n\n      this.setState({\n        course: obj\n      });\n    };\n\n    this.handleSelectChange = (value, id, name) => {\n      let obj = _objectSpread({}, this.state.course);\n\n      let label = id;\n\n      if (name === \"org\") {\n        obj[\"my0:organizedBy\"][label] = value[\"@type\"];\n      } else if (name === \"address\") {\n        obj[\"my0:organizedBy\"][\"my0:orgAddress\"][label] = value[\"@type\"];\n      } else {\n        obj[label] = value[\"@type\"];\n      }\n\n      this.setState({\n        course: obj\n      });\n    };\n\n    this.handleSave = () => {\n      this.props.createCourse(this.state.course);\n    };\n\n    this.handleUpdate = () => {\n      this.props.updateCourse({\n        object: this.state.course,\n        index: this.props.id\n      });\n    };\n\n    this.handleRenderingSubmitButton = lang => {\n      let isDisabled = this.state.course[\"my0:courseStartDate\"] === \"\" || this.state.course[\"my0:organizedBy\"][\"my0:orgName\"] === \"\" || this.state.course[\"my0:courseTitle\"] === \"\";\n\n      if (!this.props.isUpdate) {\n        return React.createElement(Button, {\n          disabled: isDisabled,\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: this.handleSave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, saveLabel[lang]);\n      } else {\n        return React.createElement(Button, {\n          disabled: isDisabled,\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: this.handleUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, updateLabel[lang]);\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.props.fetchCountries();\n    this.props.fetchMainPropertiess(\"my0:Course\");\n    this.props.fetchMainPropertiess(\"my0:Organization\");\n    this.props.fetchMainPropertiess(\"my0:Address\");\n    this.setInitialValues();\n  }\n\n  findInArray(data, name) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      let index = data[i][\"@type\"].indexOf(name);\n      let newlength = data[i][\"@type\"].length;\n\n      if (index >= 0 && index + name.length >= newlength) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n\n    if (translated[index] === undefined || translated[index][lang] === undefined) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  render() {\n    let _this$state$course = this.state.course,\n        hasCertification = _this$state$course[\"my0:hasCertification\"],\n        courseTitle = _this$state$course[\"my0:courseTitle\"],\n        courseDescription = _this$state$course[\"my0:courseDescription\"],\n        courseURL = _this$state$course[\"my0:courseURL\"],\n        courseStartDate = _this$state$course[\"my0:courseStartDate\"],\n        courseFinishDate = _this$state$course[\"my0:courseFinishDate\"],\n        organizedBy = _this$state$course[\"my0:organizedBy\"];\n    let orgName = organizedBy[\"my0:orgName\"],\n        orgWebsite = organizedBy[\"my0:orgWebsite\"],\n        orgDescription = organizedBy[\"my0:orgDescription\"],\n        orgPhoneNumber = organizedBy[\"my0:orgPhoneNumber\"],\n        orgAddress = organizedBy[\"my0:orgAddress\"];\n    let onHide = this.props.onHide;\n    let lang = this.props.language;\n    let _this$props = this.props,\n        translatedProps = _this$props.translatedProps,\n        translatedPropsOrg = _this$props.translatedPropsOrg,\n        translatedPropsAddr = _this$props.translatedPropsAddr;\n    return React.createElement(Modal, {\n      show: this.props.show,\n      onHide: this.props.onHide,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      className: \"reference-modal\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, this.props.isUpdate ? courseUpdateTitle[lang] : courseAddTitle[lang]), React.createElement(Col, {\n      md: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(CustomCheckbox, {\n      id: \"my0:hasCertification\",\n      type: \"checkbox\",\n      label: this.renderLabel(translatedProps, \"hasCertification\", lang),\n      checked: hasCertification,\n      handleChange: this.handleCheckboxChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }))))), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        alignItems: \"flex-start\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 6,\n      style: {\n        paddingRight: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:courseStartDate\",\n      name: \"course\",\n      label: this.renderLabel(translatedProps, \"courseStartDate\", lang) + \" *\",\n      type: \"date\",\n      value: courseStartDate,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:courseFinishDate\",\n      name: \"course\",\n      label: this.renderLabel(translatedProps, \"courseFinishDate\", lang),\n      type: \"date\",\n      value: courseFinishDate,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:orgName\",\n      name: \"org\",\n      label: this.renderLabel(translatedPropsOrg, \"orgName\", lang) + \" *\",\n      type: \"text\",\n      value: orgName,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:orgWebsite\",\n      name: \"org\",\n      label: this.renderLabel(translatedPropsOrg, \"orgWebsite\", lang),\n      type: \"text\",\n      value: orgWebsite,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:postalCode\",\n      name: \"address\",\n      label: this.renderLabel(translatedPropsAddr, \"postalCode\", lang),\n      value: orgAddress[\"my0:postalCode\"],\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:city\",\n      name: \"address\",\n      label: this.renderLabel(translatedPropsAddr, \"city\", lang),\n      value: orgAddress[\"my0:city\"],\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"left\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label-rw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, this.renderLabel(translatedPropsAddr, \"country\", lang)), React.createElement(Combobox, {\n      name: \"my0:country\",\n      placeholder: this.renderLabel(translatedPropsAddr, \"country\", lang),\n      data: this.props.countries,\n      textField: lang,\n      valueField: \"@type\",\n      value: orgAddress[\"my0:country\"],\n      caseSensitive: false,\n      minLength: 3,\n      filter: \"contains\",\n      onChange: value => this.handleSelectChange(value, \"my0:country\", \"address\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    })), React.createElement(CustomInput, {\n      id: \"my0:orgPhoneNumber\",\n      name: \"org\",\n      label: this.renderLabel(translatedPropsOrg, \"orgPhoneNumber\", lang),\n      value: orgPhoneNumber,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, React.createElement(CustomTextarea, {\n      id: \"my0:orgDescription\",\n      name: \"org\",\n      label: this.renderLabel(translatedPropsOrg, \"orgDescription\", lang),\n      value: orgDescription,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:courseTitle\",\n      name: \"course\",\n      label: this.renderLabel(translatedProps, \"courseTitle\", lang) + \" *\",\n      type: \"text\",\n      value: courseTitle,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }), React.createElement(CustomInput, {\n      id: \"my0:courseURL\",\n      name: \"course\",\n      label: this.renderLabel(translatedProps, \"courseURL\", lang),\n      type: \"text\",\n      value: courseURL,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }), React.createElement(CustomTextarea, {\n      id: \"my0:courseDescription\",\n      name: \"course\",\n      label: this.renderLabel(translatedProps, \"courseDescription\", lang),\n      value: courseDescription,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    })))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, this.handleRenderingSubmitButton(lang), React.createElement(Button, {\n      className: \"btn-reset\",\n      onClick: this.clearForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }, resetLabel[lang]), React.createElement(Button, {\n      variant: \"danger\",\n      onClick: onHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, cancelLabel[lang])));\n  }\n\n}\n\nconst mapstateToProps = (state, ownProps) => {\n  return {\n    initialValues: state.cv[\"my0:hasCourse\"][ownProps.id],\n    countries: retrieveCountryValues(state.utility.countryValues),\n    language: state.utility.language,\n    translatedPropsOrg: retrieveMainProperties(state.utility[\"my0:Organization\"]),\n    translatedPropsAddr: retrieveMainProperties(state.utility[\"my0:Address\"]),\n    translatedProps: retrieveMainProperties(state.utility[\"my0:Course\"])\n  };\n};\n\nexport default connect(mapstateToProps, {\n  createCourse,\n  fetchCountries,\n  updateCourse,\n  fetchMainPropertiess\n})(CourseModal);","map":{"version":3,"sources":["/home/eelezi/thesis/rdf2resume/src/components/Dashboard/Forms/Modals/FormCourse/CourseModal.jsx"],"names":["React","Component","connect","Modal","Row","Col","Button","Combobox","Swal","CustomTextarea","CustomInput","CustomCheckbox","createCourse","updateCourse","fetchCountries","fetchMainPropertiess","retrieveCountryValues","retrieveMainProperties","courseAddTitle","courseUpdateTitle","cancelLabel","resetLabel","saveLabel","updateLabel","startDate","endDate","CourseModal","state","course","setInitialValues","props","id","isUpdate","inputRef","initialValues","setState","clearForm","handleCheckboxChange","e","target","checked","handleInputChange","obj","label","value","Date","toJSON","slice","replace","fire","title","text","language","type","confirmButtonColor","heightAuto","confirmButtonText","name","handleSelectChange","handleSave","handleUpdate","object","index","handleRenderingSubmitButton","lang","isDisabled","componentWillMount","findInArray","data","length","i","indexOf","newlength","renderLabel","translated","undefined","render","hasCertification","courseTitle","courseDescription","courseURL","courseStartDate","courseFinishDate","organizedBy","orgName","orgWebsite","orgDescription","orgPhoneNumber","orgAddress","onHide","translatedProps","translatedPropsOrg","translatedPropsAddr","show","alignItems","paddingRight","justifyContent","display","marginLeft","marginBottom","width","countries","marginTop","mapstateToProps","ownProps","cv","utility","countryValues"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Row, Col, Button } from \"react-bootstrap\";\nimport { Combobox } from \"react-widgets\";\nimport Swal from \"sweetalert2\";\nimport CustomTextarea from \"../../../../core/CustomTextarea\";\nimport CustomInput from \"../../../../core/CustomInput\";\nimport CustomCheckbox from \"../../../../core/CustomCheckbox\";\nimport { createCourse, updateCourse } from \"../../../../../actions\";\nimport {\n  fetchCountries,\n  fetchMainPropertiess\n} from \"../../../../../actions/utilityActions\";\nimport {\n  retrieveCountryValues,\n  retrieveMainProperties\n} from \"../../../../../utilities/utilityQueries\";\nimport {\n  courseAddTitle,\n  courseUpdateTitle,\n  cancelLabel,\n  resetLabel,\n  saveLabel,\n  updateLabel,\n  startDate,\n  endDate\n} from \"../../../../../translations/translations\";\n\nclass CourseModal extends Component {\n  state = {\n    course: {\n      \"@type\": \"my0:Course\",\n      \"my0:hasCertification\": true,\n      \"my0:courseTitle\": \"\",\n      \"my0:courseDescription\": \"\",\n      \"my0:courseURL\": \"\",\n      \"my0:courseStartDate\": \"\",\n      \"my0:courseFinishDate\": \"\",\n      \"my0:hasQualification\": \"\",\n      \"my0:organizedBy\": {\n        \"@type\": \"my0:Organization\",\n        \"my0:orgName\": \"\",\n        \"my0:orgAddress\": {\n          \"@type\": \"Address\",\n          \"my0:city\": \"\",\n          \"my0:country\": \"\",\n          \"my0:street\": \"\",\n          \"my0:postalCode\": \"\"\n        },\n        \"my0:orgDescription\": \"\",\n        \"my0:orgPhoneNumber\": \"\",\n        \"my0:orgWebsite\": \"\"\n      }\n    }\n  };\n\n  componentWillMount() {\n    this.props.fetchCountries();\n    this.props.fetchMainPropertiess(\"my0:Course\");\n    this.props.fetchMainPropertiess(\"my0:Organization\");\n    this.props.fetchMainPropertiess(\"my0:Address\");\n    this.setInitialValues();\n  }\n\n  setInitialValues = () => {\n    if (this.props.id !== null && this.props.isUpdate === true) {\n      let inputRef = this.props.initialValues;\n      let course = { ...this.state.course };\n      course[\"my0:hasCertification\"] = inputRef[\"my0:hasCertification\"];\n      course[\"my0:courseTitle\"] = inputRef[\"my0:courseTitle\"];\n      course[\"my0:courseDescription\"] = inputRef[\"my0:courseDescription\"];\n      course[\"my0:courseURL\"] = inputRef[\"my0:courseURL\"];\n      course[\"my0:courseStartDate\"] = inputRef[\"my0:courseStartDate\"];\n      course[\"my0:courseFinishDate\"] = inputRef[\"my0:courseFinishDate\"];\n      course[\"my0:hasQualification\"] = inputRef[\"my0:hasQualification\"];\n      course[\"my0:organizedBy\"] = inputRef[\"my0:organizedBy\"];\n      this.setState({\n        course\n      });\n    }\n  };\n\n  clearForm = () => {\n    if (!this.props.isUpdate) {\n      this.setState({\n        course: {\n          \"@type\": \"my0:Course\",\n          \"my0:hasCertification\": true,\n          \"my0:courseTitle\": \"\",\n          \"my0:courseDescription\": \"\",\n          \"my0:courseURL\": \"\",\n          \"my0:courseStartDate\": \"\",\n          \"my0:courseFinishDate\": \"\",\n          \"my0:hasQualification\": \"\",\n          \"my0:organizedBy\": {\n            \"@type\": \"my0:Organization\",\n            \"my0:orgName\": \"\",\n            \"my0:orgAddress\": {\n              \"@type\": \"Address\",\n              \"my0:city\": \"\",\n              \"my0:country\": \"\",\n              \"my0:street\": \"\",\n              \"my0:postalCode\": \"\"\n            },\n            \"my0:orgDescription\": \"\",\n            \"my0:orgPhoneNumber\": \"\",\n            \"my0:orgWebsite\": \"\"\n          }\n        }\n      });\n    } else {\n      this.setInitialValues();\n    }\n  };\n\n  handleCheckboxChange = e => {\n    let course = { ...this.state.course };\n    course[e.target.id] = e.target.checked;\n    this.setState({\n      course\n    });\n  };\n\n  handleInputChange = e => {\n    let obj = { ...this.state.course };\n    let label = e.target.id;\n    if (label === \"my0:courseStartDate\") {\n      if (\n        e.target.value >\n        new Date()\n          .toJSON()\n          .slice(0, 10)\n          .replace(/-/g, \"-\")\n      ) {\n        Swal.fire({\n          title: \"Warning!\",\n          text: startDate[this.props.language],\n          type: \"warning\",\n          confirmButtonColor: \"#4bb3cc\",\n          heightAuto: false,\n          confirmButtonText: \"Okay\"\n        });\n        return;\n      }\n    }\n    if (label === \"my0:courseFinishDate\") {\n      if (e.target.value < this.state.course[\"my0:courseStartDate\"]) {\n        Swal.fire({\n          title: \"Warning!\",\n          text: endDate[this.props.language],\n          type: \"warning\",\n          confirmButtonColor: \"#4bb3cc\",\n          heightAuto: false,\n          confirmButtonText: \"Okay\"\n        });\n        return;\n      }\n    }\n    if (e.target.name === \"org\") {\n      obj[\"my0:organizedBy\"][label] = e.target.value;\n    } else if (e.target.name === \"address\") {\n      obj[\"my0:organizedBy\"][\"my0:orgAddress\"][label] = e.target.value;\n    } else {\n      obj[label] = e.target.value;\n    }\n    this.setState({\n      course: obj\n    });\n  };\n\n  handleSelectChange = (value, id, name) => {\n    let obj = { ...this.state.course };\n    let label = id;\n    if (name === \"org\") {\n      obj[\"my0:organizedBy\"][label] = value[\"@type\"];\n    } else if (name === \"address\") {\n      obj[\"my0:organizedBy\"][\"my0:orgAddress\"][label] = value[\"@type\"];\n    } else {\n      obj[label] = value[\"@type\"];\n    }\n    this.setState({\n      course: obj\n    });\n  };\n\n  handleSave = () => {\n    this.props.createCourse(this.state.course);\n  };\n\n  handleUpdate = () => {\n    this.props.updateCourse({\n      object: this.state.course,\n      index: this.props.id\n    });\n  };\n\n  findInArray(data, name) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      let index = data[i][\"@type\"].indexOf(name);\n      let newlength = data[i][\"@type\"].length;\n      if (index >= 0 && index + name.length >= newlength) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n    if (\n      translated[index] === undefined ||\n      translated[index][lang] === undefined\n    ) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  handleRenderingSubmitButton = lang => {\n    let isDisabled =\n      this.state.course[\"my0:courseStartDate\"] === \"\" ||\n      this.state.course[\"my0:organizedBy\"][\"my0:orgName\"] === \"\" ||\n      this.state.course[\"my0:courseTitle\"] === \"\";\n    if (!this.props.isUpdate) {\n      return (\n        <Button\n          disabled={isDisabled}\n          type=\"submit\"\n          variant=\"primary\"\n          onClick={this.handleSave}\n        >\n          {saveLabel[lang]}\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          disabled={isDisabled}\n          type=\"submit\"\n          variant=\"primary\"\n          onClick={this.handleUpdate}\n        >\n          {updateLabel[lang]}\n        </Button>\n      );\n    }\n  };\n\n  render() {\n    let {\n      \"my0:hasCertification\": hasCertification,\n      \"my0:courseTitle\": courseTitle,\n      \"my0:courseDescription\": courseDescription,\n      \"my0:courseURL\": courseURL,\n      \"my0:courseStartDate\": courseStartDate,\n      \"my0:courseFinishDate\": courseFinishDate,\n      \"my0:organizedBy\": organizedBy\n    } = this.state.course;\n\n    let {\n      \"my0:orgName\": orgName,\n      \"my0:orgWebsite\": orgWebsite,\n      \"my0:orgDescription\": orgDescription,\n      \"my0:orgPhoneNumber\": orgPhoneNumber,\n      \"my0:orgAddress\": orgAddress\n    } = organizedBy;\n\n    let { onHide } = this.props;\n\n    let lang = this.props.language;\n\n    let {\n      translatedProps,\n      translatedPropsOrg,\n      translatedPropsAddr\n    } = this.props;\n\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        className=\"reference-modal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            <Row>\n              <Col md={7}>\n                {this.props.isUpdate\n                  ? courseUpdateTitle[lang]\n                  : courseAddTitle[lang]}\n              </Col>\n              <Col md={5}>\n                <CustomCheckbox\n                  id=\"my0:hasCertification\"\n                  type=\"checkbox\"\n                  label={this.renderLabel(\n                    translatedProps,\n                    \"hasCertification\",\n                    lang\n                  )}\n                  checked={hasCertification}\n                  handleChange={this.handleCheckboxChange}\n                />\n              </Col>\n            </Row>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Row style={{ alignItems: \"flex-start\" }}>\n            <Col md={6} style={{ paddingRight: \"25px\" }}>\n              <Row\n                style={{\n                  justifyContent: \"flex-start\",\n                  alignItems: \"flex-start\",\n                  display: \"flex\",\n                  marginLeft: \"0px\",\n                  marginBottom: \"8px\"\n                }}\n              >\n                <CustomInput\n                  id=\"my0:courseStartDate\"\n                  name=\"course\"\n                  label={\n                    this.renderLabel(translatedProps, \"courseStartDate\", lang) +\n                    \" *\"\n                  }\n                  type=\"date\"\n                  value={courseStartDate}\n                  handleChange={this.handleInputChange}\n                />\n              </Row>\n              <Row\n                style={{\n                  justifyContent: \"flex-start\",\n                  alignItems: \"flex-start\",\n                  display: \"flex\",\n                  marginLeft: \"0px\",\n                  marginBottom: \"8px\"\n                }}\n              >\n                <CustomInput\n                  id=\"my0:courseFinishDate\"\n                  name=\"course\"\n                  label={this.renderLabel(\n                    translatedProps,\n                    \"courseFinishDate\",\n                    lang\n                  )}\n                  type=\"date\"\n                  value={courseFinishDate}\n                  handleChange={this.handleInputChange}\n                />\n              </Row>\n              <Row\n                style={{\n                  justifyContent: \"flex-start\",\n                  alignItems: \"flex-start\",\n                  display: \"flex\",\n                  marginLeft: \"0px\",\n                  marginBottom: \"8px\"\n                }}\n              >\n                <CustomInput\n                  id=\"my0:orgName\"\n                  name=\"org\"\n                  label={\n                    this.renderLabel(\n                      translatedPropsOrg,\n                      \"orgName\",\n                      lang\n                    ) + \" *\"\n                  }\n                  type=\"text\"\n                  value={orgName}\n                  handleChange={this.handleInputChange}\n                />\n                <div style={{ width: \"100%\" }}>\n                  <CustomInput\n                    id=\"my0:orgWebsite\"\n                    name=\"org\"\n                    label={this.renderLabel(\n                      translatedPropsOrg,\n                      \"orgWebsite\",\n                      lang\n                    )}\n                    type=\"text\"\n                    value={orgWebsite}\n                    handleChange={this.handleInputChange}\n                  />\n                </div>\n                <Row style={{ marginBottom: \"8px\" }}>\n                  <Col sm={6}>\n                    <CustomInput\n                      id=\"my0:postalCode\"\n                      name=\"address\"\n                      label={this.renderLabel(\n                        translatedPropsAddr,\n                        \"postalCode\",\n                        lang\n                      )}\n                      value={orgAddress[\"my0:postalCode\"]}\n                      handleChange={this.handleInputChange}\n                    />\n                  </Col>\n                  <Col sm={6}>\n                    <CustomInput\n                      id=\"my0:city\"\n                      name=\"address\"\n                      label={this.renderLabel(\n                        translatedPropsAddr,\n                        \"city\",\n                        lang\n                      )}\n                      value={orgAddress[\"my0:city\"]}\n                      handleChange={this.handleInputChange}\n                    />\n                  </Col>\n                </Row>\n                <Row\n                  style={{\n                    width: \"100%\",\n                    justifyContent: \"left\",\n                    marginLeft: \"0px\",\n                    marginBottom: \"8px\"\n                  }}\n                >\n                  <label className=\"label-rw\">\n                    {this.renderLabel(translatedPropsAddr, \"country\", lang)}\n                  </label>\n                  <Combobox\n                    name=\"my0:country\"\n                    placeholder={this.renderLabel(\n                      translatedPropsAddr,\n                      \"country\",\n                      lang\n                    )}\n                    data={this.props.countries}\n                    textField={lang}\n                    valueField=\"@type\"\n                    value={orgAddress[\"my0:country\"]}\n                    caseSensitive={false}\n                    minLength={3}\n                    filter=\"contains\"\n                    onChange={value =>\n                      this.handleSelectChange(value, \"my0:country\", \"address\")\n                    }\n                  />\n                </Row>\n                <CustomInput\n                  id=\"my0:orgPhoneNumber\"\n                  name=\"org\"\n                  label={this.renderLabel(\n                    translatedPropsOrg,\n                    \"orgPhoneNumber\",\n                    lang\n                  )}\n                  value={orgPhoneNumber}\n                  handleChange={this.handleInputChange}\n                />\n                <div style={{ marginTop: \"10px\", width: \"100%\" }}>\n                  <CustomTextarea\n                    id=\"my0:orgDescription\"\n                    name=\"org\"\n                    label={this.renderLabel(\n                      translatedPropsOrg,\n                      \"orgDescription\",\n                      lang\n                    )}\n                    value={orgDescription}\n                    handleChange={this.handleInputChange}\n                  />\n                </div>\n              </Row>\n            </Col>\n            <Col md={6}>\n              <CustomInput\n                id=\"my0:courseTitle\"\n                name=\"course\"\n                label={\n                  this.renderLabel(translatedProps, \"courseTitle\", lang) + \" *\"\n                }\n                type=\"text\"\n                value={courseTitle}\n                handleChange={this.handleInputChange}\n              />\n              <CustomInput\n                id=\"my0:courseURL\"\n                name=\"course\"\n                label={this.renderLabel(translatedProps, \"courseURL\", lang)}\n                type=\"text\"\n                value={courseURL}\n                handleChange={this.handleInputChange}\n              />\n              <div className=\"mb-3\" />\n              <CustomTextarea\n                id=\"my0:courseDescription\"\n                name=\"course\"\n                label={this.renderLabel(\n                  translatedProps,\n                  \"courseDescription\",\n                  lang\n                )}\n                value={courseDescription}\n                handleChange={this.handleInputChange}\n              />\n            </Col>\n          </Row>\n        </Modal.Body>\n        <Modal.Footer>\n          {this.handleRenderingSubmitButton(lang)}\n          <Button className=\"btn-reset\" onClick={this.clearForm}>\n            {resetLabel[lang]}\n          </Button>\n          <Button variant=\"danger\" onClick={onHide}>\n            {cancelLabel[lang]}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nconst mapstateToProps = (state, ownProps) => {\n  return {\n    initialValues: state.cv[\"my0:hasCourse\"][ownProps.id],\n    countries: retrieveCountryValues(state.utility.countryValues),\n    language: state.utility.language,\n    translatedPropsOrg: retrieveMainProperties(\n      state.utility[\"my0:Organization\"]\n    ),\n    translatedPropsAddr: retrieveMainProperties(state.utility[\"my0:Address\"]),\n    translatedProps: retrieveMainProperties(state.utility[\"my0:Course\"])\n  };\n};\n\nexport default connect(\n  mapstateToProps,\n  { createCourse, fetchCountries, updateCourse, fetchMainPropertiess }\n)(CourseModal);\n"]},"metadata":{},"sourceType":"module"}