{"ast":null,"code":"import _objectSpread from \"/home/eelezi/thesis/rdf2resume/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/eelezi/thesis/rdf2resume/src/components/Dashboard/Forms/Modals/FormWorkHistory/WorkHistoryModal.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Row, Col, Button } from \"react-bootstrap\";\nimport { Combobox } from \"react-widgets\";\nimport Swal from \"sweetalert2\";\nimport CustomTextarea from \"../../../../core/CustomTextarea\";\nimport CustomInput from \"../../../../core/CustomInput\";\nimport CustomCheckbox from \"../../../../core/CustomCheckbox\";\nimport { createWorkHistory, updateWorkHistory } from \"../../../../../actions\";\nimport { fetchCVJobModes, fetchCVCareerLevels, fetchCountries, fetchCompanySizes, fetchMainPropertiess, fetchAllIndustryTypess } from \"../../../../../actions/utilityActions\";\nimport { retrieveCountryValues, retrieveMainProperties, retrieveBaseProperties } from \"../../../../../utilities/utilityQueries\";\nimport { cancelLabel, resetLabel, saveLabel, updateLabel, startDate, endDate, workAddTitle, workUpdateTitle } from \"../../../../../translations/translations\";\n\nclass WorkHistoryModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      workHistory: {\n        \"@type\": \"my0:WorkHistory\",\n        \"my0:startDate\": \"\",\n        \"my0:endDate\": \"\",\n        \"my0:jobTitle\": \"\",\n        \"my0:jobDescription\": \"\",\n        \"my0:careerLevel\": \"\",\n        \"my0:jobMode\": \"\",\n        \"my0:isCurrent\": false,\n        \"my0:employedIn\": {\n          \"@type\": \"my0:Company\",\n          \"my0:organizationName\": \"\",\n          \"my0:organizationAddress\": {\n            \"@type\": \"Address\",\n            \"my0:city\": \"\",\n            \"my0:country\": \"\",\n            \"my0:street\": \"\",\n            \"my0:postalCode\": \"\"\n          },\n          \"my0:organizationDescription\": \"\",\n          \"my0:organizationPhoneNumber\": \"\",\n          \"my0:organizationWebsite\": \"\",\n          \"my0:organizationField\": \"\"\n        }\n      }\n    };\n\n    this.setInitialValues = () => {\n      if (this.props.id !== null && this.props.isUpdate === true) {\n        let inputRef = this.props.initialValues;\n\n        let workHistory = _objectSpread({}, this.state.workHistories);\n\n        workHistory[\"@type\"] = \"my0:WorkHistory\";\n        workHistory[\"my0:startDate\"] = inputRef[\"my0:startDate\"];\n        workHistory[\"my0:endDate\"] = inputRef[\"my0:endDate\"];\n        workHistory[\"my0:jobTitle\"] = inputRef[\"my0:jobTitle\"];\n        workHistory[\"my0:jobDescription\"] = inputRef[\"my0:jobDescription\"];\n        workHistory[\"my0:jobMode\"] = inputRef[\"my0:jobMode\"];\n        workHistory[\"my0:careerLevel\"] = inputRef[\"my0:careerLevel\"];\n        workHistory[\"my0:isCurrent\"] = inputRef[\"my0:isCurrent\"];\n        workHistory[\"my0:employedIn\"] = inputRef[\"my0:employedIn\"];\n        this.setState({\n          workHistory\n        });\n      }\n    };\n\n    this.clearForm = () => {\n      if (!this.props.isUpdate) {\n        this.setState({\n          workHistory: {\n            \"@type\": \"my0:WorkHistory\",\n            \"my0:startDate\": \"\",\n            \"my0:endDate\": \"\",\n            \"my0:jobTitle\": \"\",\n            \"my0:jobDescription\": \"\",\n            \"my0:careerLevel\": \"\",\n            \"my0:jobMode\": \"\",\n            \"my0:isCurrent\": false,\n            \"my0:employedIn\": {\n              \"@type\": \"my0:Company\",\n              \"my0:organizationName\": \"\",\n              \"my0:organizationAddress\": {\n                \"@type\": \"Address\",\n                \"my0:city\": \"\",\n                \"my0:country\": \"\",\n                \"my0:street\": \"\",\n                \"my0:postalCode\": \"\"\n              },\n              \"my0:organizationDescription\": \"\",\n              \"my0:organizationPhoneNumber\": \"\",\n              \"my0:organizationWebsite\": \"\",\n              \"my0:companyIndustry\": \"\"\n            }\n          }\n        });\n      } else {\n        this.setInitialValues();\n      }\n    };\n\n    this.handleCheckboxChange = e => {\n      let workHistory = _objectSpread({}, this.state.workHistory);\n\n      workHistory[e.target.id] = e.target.checked;\n      this.setState({\n        workHistory\n      });\n    };\n\n    this.handleInputChange = e => {\n      let obj = _objectSpread({}, this.state.workHistory);\n\n      let label = e.target.id;\n\n      if (label === \"my0:startDate\") {\n        if (e.target.value > new Date().toJSON().slice(0, 10).replace(/-/g, \"-\")) {\n          Swal.fire({\n            title: \"Warning!\",\n            text: startDate[this.props.language],\n            type: \"warning\",\n            confirmButtonColor: \"#4bb3cc\",\n            heightAuto: false,\n            confirmButtonText: \"Okay\"\n          });\n          return;\n        }\n      }\n\n      if (label === \"my0:endDate\") {\n        if (e.target.value < this.state.workHistory[\"my0:startDate\"]) {\n          Swal.fire({\n            title: \"Warning!\",\n            text: endDate[this.props.language],\n            type: \"warning\",\n            confirmButtonColor: \"#4bb3cc\",\n            heightAuto: false,\n            confirmButtonText: \"Okay\"\n          });\n          return;\n        }\n      }\n\n      if (e.target.name === \"organization\") {\n        obj[\"my0:employedIn\"][label] = e.target.value;\n      } else if (e.target.name === \"address\") {\n        obj[\"my0:employedIn\"][\"my0:organizationAddress\"][label] = e.target.value;\n      } else {\n        obj[label] = e.target.value;\n      }\n\n      this.setState({\n        workHistory: obj\n      });\n    };\n\n    this.handleSelectChange = (value, id, name) => {\n      let obj = _objectSpread({}, this.state.workHistory);\n\n      let label = id;\n\n      if (name === \"organization\") {\n        obj[\"my0:employedIn\"][label] = value[\"@type\"];\n      } else if (name === \"address\") {\n        obj[\"my0:employedIn\"][\"my0:organizationAddress\"][label] = value[\"@type\"];\n      } else {\n        obj[label] = value[\"@type\"];\n      }\n\n      this.setState({\n        workHistory: obj\n      });\n    };\n\n    this.handleSave = e => {\n      e.preventDefault();\n      this.props.createWorkHistory(this.state.workHistory);\n    };\n\n    this.handleUpdate = e => {\n      e.preventDefault();\n      this.props.updateWorkHistory({\n        object: this.state.workHistory,\n        index: this.props.id\n      });\n    };\n\n    this.handleRenderingSubmitButton = lang => {\n      let isDisabled = this.state.workHistory[\"my0:startDate\"] === \"\" || this.state.workHistory[\"my0:employedIn\"][\"my0:organizationName\"] === \"\" || this.state.workHistory[\"my0:jobTitle\"] === \"\";\n\n      if (!this.props.isUpdate) {\n        return React.createElement(Button, {\n          disabled: isDisabled,\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: this.handleSave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, saveLabel[lang]);\n      } else {\n        return React.createElement(Button, {\n          disabled: isDisabled,\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: this.handleUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, updateLabel[lang]);\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCVCareerLevels();\n    this.props.fetchCVJobModes();\n    this.props.fetchCompanySizes();\n    this.props.fetchCountries();\n    this.props.fetchAllIndustryTypess();\n    this.props.fetchMainPropertiess(\"my0:WorkHistory\");\n    this.props.fetchMainPropertiess(\"my0:Organization\");\n    this.props.fetchMainPropertiess(\"my0:Address\");\n    this.setInitialValues();\n  }\n\n  findInArray(data, name) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@type\"].indexOf(name) >= 0) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n\n    if (translated[index] === undefined || translated[index][lang] === undefined) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  render() {\n    let _this$state$workHisto = this.state.workHistory,\n        startDate = _this$state$workHisto[\"my0:startDate\"],\n        endDate = _this$state$workHisto[\"my0:endDate\"],\n        jobTitle = _this$state$workHisto[\"my0:jobTitle\"],\n        jobMode = _this$state$workHisto[\"my0:jobMode\"],\n        careerLevel = _this$state$workHisto[\"my0:careerLevel\"],\n        jobDescription = _this$state$workHisto[\"my0:jobDescription\"],\n        isCurrent = _this$state$workHisto[\"my0:isCurrent\"],\n        employedIn = _this$state$workHisto[\"my0:employedIn\"];\n    let organizationName = employedIn[\"my0:organizationName\"],\n        organizationField = employedIn[\"my0:organizationField\"],\n        organizationWebsite = employedIn[\"my0:organizationWebsite\"],\n        organizationDescription = employedIn[\"my0:organizationDescription\"],\n        organizationPhoneNumber = employedIn[\"my0:organizationPhoneNumber\"],\n        address = employedIn[\"my0:organizationAddress\"];\n    let onHide = this.props.onHide;\n    let lang = this.props.language;\n    let _this$props = this.props,\n        translatedProps = _this$props.translatedProps,\n        translatedPropsOrg = _this$props.translatedPropsOrg,\n        translatedPropsAddr = _this$props.translatedPropsAddr;\n    return React.createElement(Modal, {\n      show: this.props.show,\n      onHide: this.props.onHide,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      className: \"reference-modal\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, this.props.isUpdate ? workUpdateTitle[lang] : workAddTitle[lang]), React.createElement(Col, {\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(CustomCheckbox, {\n      id: \"my0:isCurrent\",\n      type: \"checkbox\",\n      label: this.renderLabel(translatedProps, \"isCurrent\", lang),\n      checked: isCurrent,\n      handleChange: this.handleCheckboxChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    })))), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        alignItems: \"flex-start\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 6,\n      style: {\n        paddingRight: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        marginLeft: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:startDate\",\n      name: \"workHistory\",\n      label: this.renderLabel(translatedProps, \"startDate\", lang) + \" *\",\n      type: \"date\",\n      value: startDate,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        marginLeft: \"0px\",\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:endDate\",\n      label: this.renderLabel(translatedProps, \"endDate\", lang),\n      name: \"workHistory\",\n      type: \"date\",\n      value: endDate,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        marginLeft: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:organizationName\",\n      name: \"organization\",\n      label: this.renderLabel(translatedPropsOrg, \"organizationName\", lang) + \" *\",\n      type: \"text\",\n      value: organizationName,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:organizationWebsite\",\n      name: \"organization\",\n      label: this.renderLabel(translatedPropsOrg, \"organizationWebsite\", lang),\n      type: \"text\",\n      value: organizationWebsite,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        marginTop: \"5px\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:organizationPhoneNumber\",\n      name: \"organization\",\n      label: this.renderLabel(translatedPropsOrg, \"organizationPhoneNumber\", lang),\n      value: organizationPhoneNumber,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:postalCode\",\n      label: this.renderLabel(translatedPropsAddr, \"postalCode\", lang),\n      name: \"address\",\n      value: address[\"my0:postalCode\"],\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:city\",\n      name: \"address\",\n      label: this.renderLabel(translatedPropsAddr, \"city\", lang),\n      value: address[\"my0:city\"],\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"left\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\",\n        marginTop: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label-rw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, this.renderLabel(translatedPropsAddr, \"country\", lang)), React.createElement(Combobox, {\n      name: \"my0:country\",\n      placeholder: this.renderLabel(translatedPropsAddr, \"country\", lang),\n      data: this.props.countries,\n      textField: lang,\n      valueField: \"@type\",\n      value: address[\"my0:country\"],\n      caseSensitive: false,\n      minLength: 3,\n      filter: \"contains\",\n      onChange: value => this.handleSelectChange(value, \"my0:country\", \"address\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"left\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label-rw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, this.renderLabel(translatedPropsOrg, \"organizationField\", lang)), React.createElement(Combobox, {\n      name: \"my0:organizationField\",\n      placeholder: this.renderLabel(translatedPropsOrg, \"organizationField\", lang),\n      data: this.props.industries,\n      value: organizationField,\n      textField: lang,\n      valueField: \"@type\",\n      caseSensitive: false,\n      minLength: 3,\n      filter: \"contains\",\n      onChange: value => this.handleSelectChange(value, \"my0:organizationField\", \"organization\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, React.createElement(CustomTextarea, {\n      id: \"my0:organizationDescription\",\n      name: \"organization\",\n      label: this.renderLabel(translatedPropsOrg, \"organizationDescription\", lang),\n      value: organizationDescription,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:jobTitle\",\n      name: \"workHistory\",\n      label: this.renderLabel(translatedProps, \"jobTitle\", lang) + \" *\",\n      type: \"text\",\n      value: jobTitle,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }), React.createElement(Row, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"left\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\",\n        marginTop: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label-rw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549\n      },\n      __self: this\n    }, this.renderLabel(translatedProps, \"jobMode\", lang)), React.createElement(Combobox, {\n      name: \"my0:jobMode\",\n      placeholder: this.renderLabel(translatedProps, \"jobMode\", lang),\n      data: this.props.jobmodes,\n      textField: lang,\n      valueField: \"@type\",\n      value: jobMode,\n      caseSensitive: false,\n      minLength: 3,\n      filter: \"contains\",\n      onChange: value => this.handleSelectChange(value, \"my0:jobMode\", \"workHistory\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    })), React.createElement(Row, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"left\",\n        marginLeft: \"0px\",\n        marginBottom: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label-rw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583\n      },\n      __self: this\n    }, this.renderLabel(translatedProps, \"careerLevel\", lang)), React.createElement(Combobox, {\n      name: \"my0:careerLevel\",\n      placeholder: this.renderLabel(translatedProps, \"careerLevel\", lang),\n      data: this.props.careerlevels,\n      textField: lang,\n      valueField: \"@type\",\n      value: careerLevel,\n      caseSensitive: false,\n      minLength: 3,\n      filter: \"contains\",\n      onChange: value => this.handleSelectChange(value, \"my0:careerLevel\", \"workHistory\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586\n      },\n      __self: this\n    })), React.createElement(CustomTextarea, {\n      id: \"my0:jobDescription\",\n      name: \"workHistory\",\n      label: this.renderLabel(translatedProps, \"jobDescription\", lang),\n      value: jobDescription,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609\n      },\n      __self: this\n    })))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623\n      },\n      __self: this\n    }, this.handleRenderingSubmitButton(lang), React.createElement(Button, {\n      className: \"btn-reset\",\n      onClick: this.clearForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625\n      },\n      __self: this\n    }, resetLabel[lang]), React.createElement(Button, {\n      variant: \"danger\",\n      onClick: onHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628\n      },\n      __self: this\n    }, cancelLabel[lang]))));\n  }\n\n}\n\nconst mapstateToProps = (state, ownProps) => {\n  return {\n    language: state.utility.language,\n    industries: retrieveBaseProperties(state.utility.industries),\n    translatedPropsOrg: retrieveMainProperties(state.utility[\"my0:Organization\"]),\n    translatedPropsAddr: retrieveMainProperties(state.utility[\"my0:Address\"]),\n    translatedProps: retrieveMainProperties(state.utility[\"my0:WorkHistory\"]),\n    initialValues: state.cv[\"my0:hasWorkHistory\"][ownProps.id],\n    countries: retrieveCountryValues(state.utility.countryValues),\n    jobmodes: retrieveBaseProperties(state.utility.jobModeValues),\n    careerlevels: retrieveBaseProperties(state.utility.careerLevelValues),\n    companysizes: retrieveBaseProperties(state.utility.companySizeValues)\n  };\n};\n\nexport default connect(mapstateToProps, {\n  createWorkHistory,\n  updateWorkHistory,\n  fetchCVJobModes,\n  fetchCVCareerLevels,\n  fetchCountries,\n  fetchCompanySizes,\n  fetchAllIndustryTypess,\n  fetchMainPropertiess\n})(WorkHistoryModal);","map":{"version":3,"sources":["/home/eelezi/thesis/rdf2resume/src/components/Dashboard/Forms/Modals/FormWorkHistory/WorkHistoryModal.jsx"],"names":["React","Component","connect","Modal","Row","Col","Button","Combobox","Swal","CustomTextarea","CustomInput","CustomCheckbox","createWorkHistory","updateWorkHistory","fetchCVJobModes","fetchCVCareerLevels","fetchCountries","fetchCompanySizes","fetchMainPropertiess","fetchAllIndustryTypess","retrieveCountryValues","retrieveMainProperties","retrieveBaseProperties","cancelLabel","resetLabel","saveLabel","updateLabel","startDate","endDate","workAddTitle","workUpdateTitle","WorkHistoryModal","state","workHistory","setInitialValues","props","id","isUpdate","inputRef","initialValues","workHistories","setState","clearForm","handleCheckboxChange","e","target","checked","handleInputChange","obj","label","value","Date","toJSON","slice","replace","fire","title","text","language","type","confirmButtonColor","heightAuto","confirmButtonText","name","handleSelectChange","handleSave","preventDefault","handleUpdate","object","index","handleRenderingSubmitButton","lang","isDisabled","componentDidMount","findInArray","data","length","i","indexOf","renderLabel","translated","undefined","render","jobTitle","jobMode","careerLevel","jobDescription","isCurrent","employedIn","organizationName","organizationField","organizationWebsite","organizationDescription","organizationPhoneNumber","address","onHide","translatedProps","translatedPropsOrg","translatedPropsAddr","show","alignItems","paddingRight","justifyContent","display","marginLeft","marginTop","width","marginBottom","countries","industries","jobmodes","careerlevels","mapstateToProps","ownProps","utility","cv","countryValues","jobModeValues","careerLevelValues","companysizes","companySizeValues"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Row, Col, Button } from \"react-bootstrap\";\nimport { Combobox } from \"react-widgets\";\nimport Swal from \"sweetalert2\";\nimport CustomTextarea from \"../../../../core/CustomTextarea\";\nimport CustomInput from \"../../../../core/CustomInput\";\nimport CustomCheckbox from \"../../../../core/CustomCheckbox\";\nimport { createWorkHistory, updateWorkHistory } from \"../../../../../actions\";\nimport {\n  fetchCVJobModes,\n  fetchCVCareerLevels,\n  fetchCountries,\n  fetchCompanySizes,\n  fetchMainPropertiess,\n  fetchAllIndustryTypess\n} from \"../../../../../actions/utilityActions\";\nimport {\n  retrieveCountryValues,\n  retrieveMainProperties,\n  retrieveBaseProperties\n} from \"../../../../../utilities/utilityQueries\";\nimport {\n  cancelLabel,\n  resetLabel,\n  saveLabel,\n  updateLabel,\n  startDate,\n  endDate,\n  workAddTitle,\n  workUpdateTitle\n} from \"../../../../../translations/translations\";\n\nclass WorkHistoryModal extends Component {\n  state = {\n    workHistory: {\n      \"@type\": \"my0:WorkHistory\",\n      \"my0:startDate\": \"\",\n      \"my0:endDate\": \"\",\n      \"my0:jobTitle\": \"\",\n      \"my0:jobDescription\": \"\",\n      \"my0:careerLevel\": \"\",\n      \"my0:jobMode\": \"\",\n      \"my0:isCurrent\": false,\n      \"my0:employedIn\": {\n        \"@type\": \"my0:Company\",\n        \"my0:organizationName\": \"\",\n        \"my0:organizationAddress\": {\n          \"@type\": \"Address\",\n          \"my0:city\": \"\",\n          \"my0:country\": \"\",\n          \"my0:street\": \"\",\n          \"my0:postalCode\": \"\"\n        },\n        \"my0:organizationDescription\": \"\",\n        \"my0:organizationPhoneNumber\": \"\",\n        \"my0:organizationWebsite\": \"\",\n        \"my0:organizationField\": \"\"\n      }\n    }\n  };\n\n  componentDidMount() {\n    this.props.fetchCVCareerLevels();\n    this.props.fetchCVJobModes();\n    this.props.fetchCompanySizes();\n    this.props.fetchCountries();\n    this.props.fetchAllIndustryTypess();\n    this.props.fetchMainPropertiess(\"my0:WorkHistory\");\n    this.props.fetchMainPropertiess(\"my0:Organization\");\n    this.props.fetchMainPropertiess(\"my0:Address\");\n    this.setInitialValues();\n  }\n\n  setInitialValues = () => {\n    if (this.props.id !== null && this.props.isUpdate === true) {\n      let inputRef = this.props.initialValues;\n      let workHistory = { ...this.state.workHistories };\n      workHistory[\"@type\"] = \"my0:WorkHistory\";\n      workHistory[\"my0:startDate\"] = inputRef[\"my0:startDate\"];\n      workHistory[\"my0:endDate\"] = inputRef[\"my0:endDate\"];\n      workHistory[\"my0:jobTitle\"] = inputRef[\"my0:jobTitle\"];\n      workHistory[\"my0:jobDescription\"] = inputRef[\"my0:jobDescription\"];\n      workHistory[\"my0:jobMode\"] = inputRef[\"my0:jobMode\"];\n      workHistory[\"my0:careerLevel\"] = inputRef[\"my0:careerLevel\"];\n      workHistory[\"my0:isCurrent\"] = inputRef[\"my0:isCurrent\"];\n      workHistory[\"my0:employedIn\"] = inputRef[\"my0:employedIn\"];\n      this.setState({\n        workHistory\n      });\n    }\n  };\n\n  clearForm = () => {\n    if (!this.props.isUpdate) {\n      this.setState({\n        workHistory: {\n          \"@type\": \"my0:WorkHistory\",\n          \"my0:startDate\": \"\",\n          \"my0:endDate\": \"\",\n          \"my0:jobTitle\": \"\",\n          \"my0:jobDescription\": \"\",\n          \"my0:careerLevel\": \"\",\n          \"my0:jobMode\": \"\",\n          \"my0:isCurrent\": false,\n          \"my0:employedIn\": {\n            \"@type\": \"my0:Company\",\n            \"my0:organizationName\": \"\",\n            \"my0:organizationAddress\": {\n              \"@type\": \"Address\",\n              \"my0:city\": \"\",\n              \"my0:country\": \"\",\n              \"my0:street\": \"\",\n              \"my0:postalCode\": \"\"\n            },\n            \"my0:organizationDescription\": \"\",\n            \"my0:organizationPhoneNumber\": \"\",\n            \"my0:organizationWebsite\": \"\",\n            \"my0:companyIndustry\": \"\"\n          }\n        }\n      });\n    } else {\n      this.setInitialValues();\n    }\n  };\n\n  handleCheckboxChange = e => {\n    let workHistory = { ...this.state.workHistory };\n    workHistory[e.target.id] = e.target.checked;\n    this.setState({\n      workHistory\n    });\n  };\n\n  handleInputChange = e => {\n    let obj = { ...this.state.workHistory };\n    let label = e.target.id;\n    if (label === \"my0:startDate\") {\n      if (\n        e.target.value >\n        new Date()\n          .toJSON()\n          .slice(0, 10)\n          .replace(/-/g, \"-\")\n      ) {\n        Swal.fire({\n          title: \"Warning!\",\n          text: startDate[this.props.language],\n          type: \"warning\",\n          confirmButtonColor: \"#4bb3cc\",\n          heightAuto: false,\n          confirmButtonText: \"Okay\"\n        });\n        return;\n      }\n    }\n    if (label === \"my0:endDate\") {\n      if (e.target.value < this.state.workHistory[\"my0:startDate\"]) {\n        Swal.fire({\n          title: \"Warning!\",\n          text: endDate[this.props.language],\n          type: \"warning\",\n          confirmButtonColor: \"#4bb3cc\",\n          heightAuto: false,\n          confirmButtonText: \"Okay\"\n        });\n        return;\n      }\n    }\n    if (e.target.name === \"organization\") {\n      obj[\"my0:employedIn\"][label] = e.target.value;\n    } else if (e.target.name === \"address\") {\n      obj[\"my0:employedIn\"][\"my0:organizationAddress\"][label] = e.target.value;\n    } else {\n      obj[label] = e.target.value;\n    }\n    this.setState({\n      workHistory: obj\n    });\n  };\n\n  handleSelectChange = (value, id, name) => {\n    let obj = { ...this.state.workHistory };\n    let label = id;\n    if (name === \"organization\") {\n      obj[\"my0:employedIn\"][label] = value[\"@type\"];\n    } else if (name === \"address\") {\n      obj[\"my0:employedIn\"][\"my0:organizationAddress\"][label] = value[\"@type\"];\n    } else {\n      obj[label] = value[\"@type\"];\n    }\n    this.setState({\n      workHistory: obj\n    });\n  };\n\n  handleSave = e => {\n    e.preventDefault();\n    this.props.createWorkHistory(this.state.workHistory);\n  };\n\n  handleUpdate = e => {\n    e.preventDefault();\n    this.props.updateWorkHistory({\n      object: this.state.workHistory,\n      index: this.props.id\n    });\n  };\n\n  handleRenderingSubmitButton = lang => {\n    let isDisabled =\n      this.state.workHistory[\"my0:startDate\"] === \"\" ||\n      this.state.workHistory[\"my0:employedIn\"][\"my0:organizationName\"] === \"\" ||\n      this.state.workHistory[\"my0:jobTitle\"] === \"\";\n    if (!this.props.isUpdate) {\n      return (\n        <Button\n          disabled={isDisabled}\n          type=\"submit\"\n          variant=\"primary\"\n          onClick={this.handleSave}\n        >\n          {saveLabel[lang]}\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          disabled={isDisabled}\n          type=\"submit\"\n          variant=\"primary\"\n          onClick={this.handleUpdate}\n        >\n          {updateLabel[lang]}\n        </Button>\n      );\n    }\n  };\n\n  findInArray(data, name) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@type\"].indexOf(name) >= 0) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n    if (\n      translated[index] === undefined ||\n      translated[index][lang] === undefined\n    ) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  render() {\n    let {\n      \"my0:startDate\": startDate,\n      \"my0:endDate\": endDate,\n      \"my0:jobTitle\": jobTitle,\n      \"my0:jobMode\": jobMode,\n      \"my0:careerLevel\": careerLevel,\n      \"my0:jobDescription\": jobDescription,\n      \"my0:isCurrent\": isCurrent,\n      \"my0:employedIn\": employedIn\n    } = this.state.workHistory;\n\n    let {\n      \"my0:organizationName\": organizationName,\n      \"my0:organizationField\": organizationField,\n      \"my0:organizationWebsite\": organizationWebsite,\n      \"my0:organizationDescription\": organizationDescription,\n      \"my0:organizationPhoneNumber\": organizationPhoneNumber,\n      \"my0:organizationAddress\": address\n    } = employedIn;\n\n    let { onHide } = this.props;\n\n    let lang = this.props.language;\n\n    let {\n      translatedProps,\n      translatedPropsOrg,\n      translatedPropsAddr\n    } = this.props;\n\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        className=\"reference-modal\"\n        centered\n      >\n        <form>\n          <Modal.Header closeButton>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              <Row>\n                <Col md={9}>\n                  {this.props.isUpdate\n                    ? workUpdateTitle[lang]\n                    : workAddTitle[lang]}\n                </Col>\n                <Col md={2}>\n                  <CustomCheckbox\n                    id=\"my0:isCurrent\"\n                    type=\"checkbox\"\n                    label={this.renderLabel(translatedProps, \"isCurrent\", lang)}\n                    checked={isCurrent}\n                    handleChange={this.handleCheckboxChange}\n                  />\n                </Col>\n                <Col md={1} />\n              </Row>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Row style={{ alignItems: \"flex-start\" }}>\n              <Col md={6} style={{ paddingRight: \"25px\" }}>\n                <Row\n                  style={{\n                    justifyContent: \"flex-start\",\n                    alignItems: \"flex-start\",\n                    display: \"flex\",\n                    marginLeft: \"0px\"\n                  }}\n                >\n                  <CustomInput\n                    id=\"my0:startDate\"\n                    name=\"workHistory\"\n                    label={\n                      this.renderLabel(translatedProps, \"startDate\", lang) +\n                      \" *\"\n                    }\n                    type=\"date\"\n                    value={startDate}\n                    handleChange={this.handleInputChange}\n                  />\n                </Row>\n                <Row\n                  style={{\n                    justifyContent: \"flex-start\",\n                    alignItems: \"flex-start\",\n                    display: \"flex\",\n                    marginLeft: \"0px\",\n                    marginTop: \"10px\"\n                  }}\n                >\n                  <CustomInput\n                    id=\"my0:endDate\"\n                    label={this.renderLabel(translatedProps, \"endDate\", lang)}\n                    name=\"workHistory\"\n                    type=\"date\"\n                    value={endDate}\n                    handleChange={this.handleInputChange}\n                  />\n                </Row>\n                <Row\n                  style={{\n                    justifyContent: \"flex-start\",\n                    alignItems: \"flex-start\",\n                    display: \"flex\",\n                    marginLeft: \"0px\"\n                  }}\n                >\n                  <div style={{ width: \"100%\" }}>\n                    <CustomInput\n                      id=\"my0:organizationName\"\n                      name=\"organization\"\n                      label={\n                        this.renderLabel(\n                          translatedPropsOrg,\n                          \"organizationName\",\n                          lang\n                        ) + \" *\"\n                      }\n                      type=\"text\"\n                      value={organizationName}\n                      handleChange={this.handleInputChange}\n                    />\n                  </div>\n                  <div style={{ width: \"100%\" }}>\n                    <CustomInput\n                      id=\"my0:organizationWebsite\"\n                      name=\"organization\"\n                      label={this.renderLabel(\n                        translatedPropsOrg,\n                        \"organizationWebsite\",\n                        lang\n                      )}\n                      type=\"text\"\n                      value={organizationWebsite}\n                      handleChange={this.handleInputChange}\n                    />\n                  </div>\n                  <div style={{ marginTop: \"5px\", width: \"100%\" }}>\n                    <CustomInput\n                      id=\"my0:organizationPhoneNumber\"\n                      name=\"organization\"\n                      label={this.renderLabel(\n                        translatedPropsOrg,\n                        \"organizationPhoneNumber\",\n                        lang\n                      )}\n                      value={organizationPhoneNumber}\n                      handleChange={this.handleInputChange}\n                    />\n                  </div>\n\n                  <Row>\n                    <Col sm={6}>\n                      <CustomInput\n                        id=\"my0:postalCode\"\n                        label={this.renderLabel(\n                          translatedPropsAddr,\n                          \"postalCode\",\n                          lang\n                        )}\n                        name=\"address\"\n                        value={address[\"my0:postalCode\"]}\n                        handleChange={this.handleInputChange}\n                      />\n                    </Col>\n                    <Col sm={6}>\n                      <CustomInput\n                        id=\"my0:city\"\n                        name=\"address\"\n                        label={this.renderLabel(\n                          translatedPropsAddr,\n                          \"city\",\n                          lang\n                        )}\n                        value={address[\"my0:city\"]}\n                        handleChange={this.handleInputChange}\n                      />\n                    </Col>\n                  </Row>\n                  <Row\n                    style={{\n                      width: \"100%\",\n                      justifyContent: \"left\",\n                      marginLeft: \"0px\",\n                      marginBottom: \"8px\",\n                      marginTop: \"5px\"\n                    }}\n                  >\n                    <label className=\"label-rw\">\n                      {this.renderLabel(translatedPropsAddr, \"country\", lang)}\n                    </label>\n                    <Combobox\n                      name=\"my0:country\"\n                      placeholder={this.renderLabel(\n                        translatedPropsAddr,\n                        \"country\",\n                        lang\n                      )}\n                      data={this.props.countries}\n                      textField={lang}\n                      valueField=\"@type\"\n                      value={address[\"my0:country\"]}\n                      caseSensitive={false}\n                      minLength={3}\n                      filter=\"contains\"\n                      onChange={value =>\n                        this.handleSelectChange(value, \"my0:country\", \"address\")\n                      }\n                    />\n                  </Row>\n                  <Row\n                    style={{\n                      width: \"100%\",\n                      justifyContent: \"left\",\n                      marginLeft: \"0px\",\n                      marginBottom: \"8px\"\n                    }}\n                  >\n                    <label className=\"label-rw\">\n                      {this.renderLabel(\n                        translatedPropsOrg,\n                        \"organizationField\",\n                        lang\n                      )}\n                    </label>\n                    <Combobox\n                      name=\"my0:organizationField\"\n                      placeholder={this.renderLabel(\n                        translatedPropsOrg,\n                        \"organizationField\",\n                        lang\n                      )}\n                      data={this.props.industries}\n                      value={organizationField}\n                      textField={lang}\n                      valueField=\"@type\"\n                      caseSensitive={false}\n                      minLength={3}\n                      filter=\"contains\"\n                      onChange={value =>\n                        this.handleSelectChange(\n                          value,\n                          \"my0:organizationField\",\n                          \"organization\"\n                        )\n                      }\n                    />\n                  </Row>\n                  <div style={{ width: \"100%\" }}>\n                    <CustomTextarea\n                      id=\"my0:organizationDescription\"\n                      name=\"organization\"\n                      label={this.renderLabel(\n                        translatedPropsOrg,\n                        \"organizationDescription\",\n                        lang\n                      )}\n                      value={organizationDescription}\n                      handleChange={this.handleInputChange}\n                    />\n                  </div>\n                </Row>\n              </Col>\n              <Col md={6}>\n                <CustomInput\n                  id=\"my0:jobTitle\"\n                  name=\"workHistory\"\n                  label={\n                    this.renderLabel(translatedProps, \"jobTitle\", lang) + \" *\"\n                  }\n                  type=\"text\"\n                  value={jobTitle}\n                  handleChange={this.handleInputChange}\n                />\n                <Row\n                  style={{\n                    width: \"100%\",\n                    justifyContent: \"left\",\n                    marginLeft: \"0px\",\n                    marginBottom: \"8px\",\n                    marginTop: \"5px\"\n                  }}\n                >\n                  <label className=\"label-rw\">\n                    {this.renderLabel(translatedProps, \"jobMode\", lang)}\n                  </label>\n                  <Combobox\n                    name=\"my0:jobMode\"\n                    placeholder={this.renderLabel(\n                      translatedProps,\n                      \"jobMode\",\n                      lang\n                    )}\n                    data={this.props.jobmodes}\n                    textField={lang}\n                    valueField=\"@type\"\n                    value={jobMode}\n                    caseSensitive={false}\n                    minLength={3}\n                    filter=\"contains\"\n                    onChange={value =>\n                      this.handleSelectChange(\n                        value,\n                        \"my0:jobMode\",\n                        \"workHistory\"\n                      )\n                    }\n                  />\n                </Row>\n                <Row\n                  style={{\n                    width: \"100%\",\n                    justifyContent: \"left\",\n                    marginLeft: \"0px\",\n                    marginBottom: \"8px\"\n                  }}\n                >\n                  <label className=\"label-rw\">\n                    {this.renderLabel(translatedProps, \"careerLevel\", lang)}\n                  </label>\n                  <Combobox\n                    name=\"my0:careerLevel\"\n                    placeholder={this.renderLabel(\n                      translatedProps,\n                      \"careerLevel\",\n                      lang\n                    )}\n                    data={this.props.careerlevels}\n                    textField={lang}\n                    valueField=\"@type\"\n                    value={careerLevel}\n                    caseSensitive={false}\n                    minLength={3}\n                    filter=\"contains\"\n                    onChange={value =>\n                      this.handleSelectChange(\n                        value,\n                        \"my0:careerLevel\",\n                        \"workHistory\"\n                      )\n                    }\n                  />\n                </Row>\n                <CustomTextarea\n                  id=\"my0:jobDescription\"\n                  name=\"workHistory\"\n                  label={this.renderLabel(\n                    translatedProps,\n                    \"jobDescription\",\n                    lang\n                  )}\n                  value={jobDescription}\n                  handleChange={this.handleInputChange}\n                />\n              </Col>\n            </Row>\n          </Modal.Body>\n          <Modal.Footer>\n            {this.handleRenderingSubmitButton(lang)}\n            <Button className=\"btn-reset\" onClick={this.clearForm}>\n              {resetLabel[lang]}\n            </Button>\n            <Button variant=\"danger\" onClick={onHide}>\n              {cancelLabel[lang]}\n            </Button>\n          </Modal.Footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n\nconst mapstateToProps = (state, ownProps) => {\n  return {\n    language: state.utility.language,\n    industries: retrieveBaseProperties(state.utility.industries),\n    translatedPropsOrg: retrieveMainProperties(\n      state.utility[\"my0:Organization\"]\n    ),\n    translatedPropsAddr: retrieveMainProperties(state.utility[\"my0:Address\"]),\n    translatedProps: retrieveMainProperties(state.utility[\"my0:WorkHistory\"]),\n    initialValues: state.cv[\"my0:hasWorkHistory\"][ownProps.id],\n    countries: retrieveCountryValues(state.utility.countryValues),\n    jobmodes: retrieveBaseProperties(state.utility.jobModeValues),\n    careerlevels: retrieveBaseProperties(state.utility.careerLevelValues),\n    companysizes: retrieveBaseProperties(state.utility.companySizeValues)\n  };\n};\n\nexport default connect(\n  mapstateToProps,\n  {\n    createWorkHistory,\n    updateWorkHistory,\n    fetchCVJobModes,\n    fetchCVCareerLevels,\n    fetchCountries,\n    fetchCompanySizes,\n    fetchAllIndustryTypess,\n    fetchMainPropertiess\n  }\n)(WorkHistoryModal);\n"]},"metadata":{},"sourceType":"module"}