{"ast":null,"code":"import _objectSpread from \"/home/eelezi/thesis/rdf2resume/UI/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/eelezi/thesis/rdf2resume/UI/src/components/Dashboard/Forms/Modals/FormProject/ProjectModal.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { Combobox } from \"react-widgets\";\nimport { Modal, Row, Col, Button } from \"react-bootstrap\";\nimport CustomTextarea from \"../../../../core/CustomTextarea\";\nimport CustomCheckbox from \"../../../../core/CustomCheckbox\";\nimport CustomInput from \"../../../../core/CustomInput\";\nimport { createProject, updateProject, updateCVLastUpdate } from \"../../../../../actions\";\nimport { fetchMainPropertiess, updateLanguage } from \"../../../../../actions/utilityActions\";\nimport { retrieveMainProperties } from \"../../../../../utilities/utilityQueries\";\nimport { cancelLabel, resetLabel, saveLabel, updateLabel, projectAddTitle, projectUpdateTitle, successTitle } from \"../../../../../translations/translations\";\nimport { ListItem, languages } from \"../../../../core/LanguageToggle\";\n\nclass ProjectModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      language: '',\n      project: {\n        \"@type\": \"my0:Project\",\n        \"my0:projectName\": [{\n          \"@value\": \"\",\n          \"@language\": \"en\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"it\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"fr\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"de\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"sq\"\n        }],\n        \"my0:projectIsCurrent\": \"\",\n        \"my0:projectStartDate\": \"\",\n        \"my0:projectEndDate\": \"\",\n        \"my0:projectCreator\": [{\n          \"@value\": \"\",\n          \"@language\": \"en\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"it\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"fr\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"de\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"sq\"\n        }],\n        \"my0:projectRole\": [{\n          \"@value\": \"\",\n          \"@language\": \"en\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"it\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"fr\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"de\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"sq\"\n        }],\n        \"my0:projectURL\": \"\",\n        \"my0:projectDescription\": [{\n          \"@value\": \"\",\n          \"@language\": \"en\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"it\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"fr\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"de\"\n        }, {\n          \"@value\": \"\",\n          \"@language\": \"sq\"\n        }]\n      }\n    };\n\n    this.setInitialValues = () => {\n      if (this.props.id !== null && this.props.isUpdate === true) {\n        let inputRef = this.props.initialValues;\n\n        let project = _objectSpread({}, this.state.project);\n\n        project[\"my0:projectName\"] = inputRef[\"my0:projectName\"];\n        project[\"my0:projectIsCurrent\"] = inputRef[\"my0:projectIsCurrent\"];\n        project[\"my0:projectStartDate\"] = inputRef[\"my0:projectStartDate\"];\n        project[\"my0:projectEndDate\"] = inputRef[\"my0:projectEndDate\"];\n        project[\"my0:projectCreator\"] = inputRef[\"my0:projectCreator\"];\n        project[\"my0:projectRole\"] = inputRef[\"my0:projectRole\"];\n        project[\"my0:projectURL\"] = inputRef[\"my0:projectURL\"];\n        project[\"my0:projectDescription\"] = inputRef[\"my0:projectDescription\"];\n        this.setState({\n          project\n        });\n      }\n    };\n\n    this.clearForm = () => {\n      if (!this.props.isUpdate) {\n        this.setState({\n          project: {\n            \"@type\": \"my0:Project\",\n            \"my0:projectName\": [{\n              \"@value\": \"\",\n              \"@language\": \"en\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"it\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"fr\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"de\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"sq\"\n            }],\n            \"my0:projectIsCurrent\": \"\",\n            \"my0:projectStartDate\": \"\",\n            \"my0:projectEndDate\": \"\",\n            \"my0:projectCreator\": [{\n              \"@value\": \"\",\n              \"@language\": \"en\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"it\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"fr\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"de\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"sq\"\n            }],\n            \"my0:projectRole\": [{\n              \"@value\": \"\",\n              \"@language\": \"en\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"it\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"fr\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"de\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"sq\"\n            }],\n            \"my0:projectURL\": \"\",\n            \"my0:projectDescription\": [{\n              \"@value\": \"\",\n              \"@language\": \"en\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"it\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"fr\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"de\"\n            }, {\n              \"@value\": \"\",\n              \"@language\": \"sq\"\n            }]\n          }\n        });\n      } else {\n        this.setInitialValues();\n      }\n    };\n\n    this.handleInputChange = (e, lang) => {\n      let obj = _objectSpread({}, this.state.project);\n\n      let label = e.target.id;\n\n      if (lang) {\n        obj[label] = this.replaceLanguageValue(obj[label], lang, e.target.value);\n      } else {\n        obj[label] = e.target.value;\n      }\n\n      this.setState({\n        project: obj\n      });\n    };\n\n    this.handleCheckboxChange = e => {\n      let project = _objectSpread({}, this.state.project);\n\n      project[e.target.id] = e.target.checked;\n      this.setState({\n        project\n      });\n    };\n\n    this.handleSave = () => {\n      this.props.createProject(this.state.project);\n      this.props.updateCVLastUpdate();\n      this.props.onHide();\n      Swal.fire({\n        title: successTitle[this.props.language],\n        type: \"success\",\n        confirmButtonColor: \"#4bb3cc\",\n        heightAuto: false,\n        confirmButtonText: \"Okay\"\n      });\n    };\n\n    this.handleUpdate = () => {\n      this.props.updateProject({\n        object: this.state.project,\n        index: this.props.id\n      });\n      this.props.updateCVLastUpdate();\n      this.props.onHide();\n      Swal.fire({\n        title: successTitle[this.props.language],\n        type: \"success\",\n        confirmButtonColor: \"#4bb3cc\",\n        heightAuto: false,\n        confirmButtonText: \"Okay\"\n      });\n    };\n\n    this.handleRenderingSubmitButton = lang => {\n      let isDisabled = this.state.project[\"my0:projectName\"] === \"\";\n\n      if (!this.props.isUpdate) {\n        return React.createElement(Button, {\n          disabled: isDisabled,\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: this.handleSave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        }, saveLabel[lang]);\n      } else {\n        return React.createElement(Button, {\n          disabled: isDisabled,\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: this.handleUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }, updateLabel[lang]);\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.props.fetchMainPropertiess(\"my0:Project\");\n    this.setInitialValues();\n    this.setState({\n      language: this.props.language\n    });\n  }\n\n  replaceLanguageValue(data, language, value) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@language\"] === language) {\n        data[i][\"@value\"] = value;\n        break;\n      }\n    }\n\n    return data;\n  }\n\n  findTranslatedValue(data, lang) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@language\"] === lang) {\n        return data[i][\"@value\"];\n      }\n    }\n  }\n\n  findInArray(data, name) {\n    let length = data.length;\n\n    for (let i = 0; i < length; i++) {\n      let index = data[i][\"@type\"].indexOf(name);\n      let newlength = data[i][\"@type\"].length;\n\n      if (index >= 0 && index + name.length >= newlength) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n\n    if (translated[index] === undefined || translated[index][lang] === undefined) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  render() {\n    let _this$state$project = this.state.project,\n        projectName = _this$state$project[\"my0:projectName\"],\n        projectIsCurrent = _this$state$project[\"my0:projectIsCurrent\"],\n        projectStartDate = _this$state$project[\"my0:projectStartDate\"],\n        projectEndDate = _this$state$project[\"my0:projectEndDate\"],\n        projectCreator = _this$state$project[\"my0:projectCreator\"],\n        projectRole = _this$state$project[\"my0:projectRole\"],\n        projectURL = _this$state$project[\"my0:projectURL\"],\n        projectDescription = _this$state$project[\"my0:projectDescription\"];\n    let onHide = this.props.onHide;\n    let lang = this.state.language;\n    let translatedProps = this.props.translatedProps;\n\n    let changeLanguage = value => this.setState({\n      language: value\n    });\n\n    return React.createElement(Modal, {\n      show: this.props.show,\n      onHide: this.props.onHide,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      className: \"reference-modal\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, this.props.isUpdate ? projectUpdateTitle[lang] : projectAddTitle[lang])))), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        alignItems: \"flex-start\",\n        margin: \"0\",\n        marginRight: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        margin: \"0px\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 9,\n      style: {\n        paddingLeft: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:projectName\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectName\", lang) + \" *\",\n      type: \"text\",\n      value: this.findTranslatedValue(projectName, lang),\n      handleChange: e => this.handleInputChange(e, lang),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 3,\n      style: {\n        paddingRight: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(CustomCheckbox, {\n      id: \"my0:projectIsCurrent\",\n      type: \"checkbox\",\n      label: this.renderLabel(translatedProps, \"projectIsCurrent\", lang),\n      checked: projectIsCurrent,\n      handleChange: this.handleCheckboxChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      style: {\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        display: \"flex\",\n        margin: \"0px\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 6,\n      style: {\n        paddingLeft: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:projectStartDate\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectStartDate\", lang),\n      type: \"date\",\n      value: projectStartDate,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 6,\n      style: {\n        paddingRight: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:projectEndDate\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectEndDate\", lang),\n      type: \"date\",\n      value: projectEndDate,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:projectRole\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectRole\", lang),\n      type: \"text\",\n      value: this.findTranslatedValue(projectRole, lang),\n      handleChange: e => this.handleInputChange(e, lang),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:projectCreator\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectCreator\", lang),\n      type: \"text\",\n      value: this.findTranslatedValue(projectCreator, lang),\n      handleChange: e => this.handleInputChange(e, lang),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, React.createElement(CustomInput, {\n      id: \"my0:projectURL\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectURL\", lang),\n      type: \"text\",\n      value: projectURL,\n      handleChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, React.createElement(CustomTextarea, {\n      id: \"my0:projectDescription\",\n      name: \"project\",\n      label: this.renderLabel(translatedProps, \"projectDescription\", lang),\n      value: this.findTranslatedValue(projectDescription, lang),\n      handleChange: e => this.handleInputChange(e, lang),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    })))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, React.createElement(Combobox, {\n      onChange: changeLanguage,\n      value: lang,\n      defaultValue: \"en\",\n      containerClassName: \"languagebox\",\n      data: languages,\n      itemComponent: ListItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535\n      },\n      __self: this\n    }), this.handleRenderingSubmitButton(lang), React.createElement(Button, {\n      className: \"btn-reset\",\n      onClick: this.clearForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537\n      },\n      __self: this\n    }, resetLabel[lang]), React.createElement(Button, {\n      variant: \"danger\",\n      onClick: onHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, cancelLabel[lang])));\n  }\n\n}\n\nconst mapstateToProps = (state, ownProps) => {\n  return {\n    initialValues: state.cv[\"my0:hasProject\"][ownProps.id],\n    language: state.utility.language,\n    translatedProps: retrieveMainProperties(state.utility[\"my0:Project\"])\n  };\n};\n\nexport default connect(mapstateToProps, {\n  createProject,\n  updateLanguage,\n  updateCVLastUpdate,\n  updateProject,\n  fetchMainPropertiess\n})(ProjectModal);","map":{"version":3,"sources":["/home/eelezi/thesis/rdf2resume/UI/src/components/Dashboard/Forms/Modals/FormProject/ProjectModal.jsx"],"names":["React","Component","connect","Swal","Combobox","Modal","Row","Col","Button","CustomTextarea","CustomCheckbox","CustomInput","createProject","updateProject","updateCVLastUpdate","fetchMainPropertiess","updateLanguage","retrieveMainProperties","cancelLabel","resetLabel","saveLabel","updateLabel","projectAddTitle","projectUpdateTitle","successTitle","ListItem","languages","ProjectModal","state","language","project","setInitialValues","props","id","isUpdate","inputRef","initialValues","setState","clearForm","handleInputChange","e","lang","obj","label","target","replaceLanguageValue","value","handleCheckboxChange","checked","handleSave","onHide","fire","title","type","confirmButtonColor","heightAuto","confirmButtonText","handleUpdate","object","index","handleRenderingSubmitButton","isDisabled","componentWillMount","data","length","i","findTranslatedValue","findInArray","name","indexOf","newlength","renderLabel","translated","undefined","render","projectName","projectIsCurrent","projectStartDate","projectEndDate","projectCreator","projectRole","projectURL","projectDescription","translatedProps","changeLanguage","show","alignItems","margin","marginRight","justifyContent","display","width","paddingLeft","paddingRight","marginTop","mapstateToProps","ownProps","cv","utility"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { Combobox } from \"react-widgets\";\nimport { Modal, Row, Col, Button } from \"react-bootstrap\";\nimport CustomTextarea from \"../../../../core/CustomTextarea\";\nimport CustomCheckbox from \"../../../../core/CustomCheckbox\";\nimport CustomInput from \"../../../../core/CustomInput\";\nimport { createProject, updateProject, updateCVLastUpdate } from \"../../../../../actions\";\nimport { fetchMainPropertiess, updateLanguage } from \"../../../../../actions/utilityActions\";\nimport { retrieveMainProperties } from \"../../../../../utilities/utilityQueries\";\nimport {\n  cancelLabel,\n  resetLabel,\n  saveLabel,\n  updateLabel,\n  projectAddTitle,\n  projectUpdateTitle,\n  successTitle\n} from \"../../../../../translations/translations\";\nimport { ListItem, languages } from \"../../../../core/LanguageToggle\";\n\nclass ProjectModal extends Component {\n  state = {\n    language: '',\n    project: {\n      \"@type\": \"my0:Project\",\n      \"my0:projectName\": [{\n        \"@value\": \"\",\n        \"@language\": \"en\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"it\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"fr\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"de\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"sq\"\n      },\n      ],\n      \"my0:projectIsCurrent\": \"\",\n      \"my0:projectStartDate\": \"\",\n      \"my0:projectEndDate\": \"\",\n      \"my0:projectCreator\": [{\n        \"@value\": \"\",\n        \"@language\": \"en\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"it\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"fr\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"de\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"sq\"\n      },\n      ],\n      \"my0:projectRole\": [{\n        \"@value\": \"\",\n        \"@language\": \"en\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"it\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"fr\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"de\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"sq\"\n      },\n      ],\n      \"my0:projectURL\": \"\",\n      \"my0:projectDescription\": [{\n        \"@value\": \"\",\n        \"@language\": \"en\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"it\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"fr\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"de\"\n      },\n      {\n        \"@value\": \"\",\n        \"@language\": \"sq\"\n      },\n      ]\n    }\n  };\n\n  componentWillMount() {\n    this.props.fetchMainPropertiess(\"my0:Project\");\n    this.setInitialValues();\n    this.setState({\n      language: this.props.language\n    })\n  }\n\n  setInitialValues = () => {\n    if (this.props.id !== null && this.props.isUpdate === true) {\n      let inputRef = this.props.initialValues;\n      let project = { ...this.state.project };\n      project[\"my0:projectName\"] = inputRef[\"my0:projectName\"];\n      project[\"my0:projectIsCurrent\"] = inputRef[\"my0:projectIsCurrent\"];\n      project[\"my0:projectStartDate\"] = inputRef[\"my0:projectStartDate\"];\n      project[\"my0:projectEndDate\"] = inputRef[\"my0:projectEndDate\"];\n      project[\"my0:projectCreator\"] = inputRef[\"my0:projectCreator\"];\n      project[\"my0:projectRole\"] = inputRef[\"my0:projectRole\"];\n      project[\"my0:projectURL\"] = inputRef[\"my0:projectURL\"];\n      project[\"my0:projectDescription\"] = inputRef[\"my0:projectDescription\"];\n      this.setState({\n        project\n      });\n    }\n  };\n\n  clearForm = () => {\n    if (!this.props.isUpdate) {\n      this.setState({\n        project: {\n          \"@type\": \"my0:Project\",\n          \"my0:projectName\": [{\n            \"@value\": \"\",\n            \"@language\": \"en\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"it\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"fr\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"de\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"sq\"\n          },\n          ],\n          \"my0:projectIsCurrent\": \"\",\n          \"my0:projectStartDate\": \"\",\n          \"my0:projectEndDate\": \"\",\n          \"my0:projectCreator\": [{\n            \"@value\": \"\",\n            \"@language\": \"en\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"it\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"fr\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"de\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"sq\"\n          },\n          ],\n          \"my0:projectRole\": [{\n            \"@value\": \"\",\n            \"@language\": \"en\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"it\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"fr\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"de\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"sq\"\n          },\n          ],\n          \"my0:projectURL\": \"\",\n          \"my0:projectDescription\": [{\n            \"@value\": \"\",\n            \"@language\": \"en\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"it\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"fr\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"de\"\n          },\n          {\n            \"@value\": \"\",\n            \"@language\": \"sq\"\n          },\n          ]\n        }\n      });\n    } else {\n      this.setInitialValues();\n    }\n  };\n\n  replaceLanguageValue(data, language, value) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@language\"] === language) {\n        data[i][\"@value\"] = value;\n        break;\n      }\n    }\n    return data;\n  }\n\n  findTranslatedValue(data, lang) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      if (data[i][\"@language\"] === lang) {\n        return data[i][\"@value\"];\n      }\n    }\n  }\n\n  handleInputChange = (e, lang) => {\n    let obj = { ...this.state.project };\n    let label = e.target.id;\n    if (lang) {\n      obj[label] = this.replaceLanguageValue(obj[label], lang, e.target.value);\n    } else {\n      obj[label] = e.target.value;\n    }\n    this.setState({\n      project: obj\n    });\n  };\n\n  handleCheckboxChange = e => {\n    let project = { ...this.state.project };\n    project[e.target.id] = e.target.checked;\n    this.setState({\n      project\n    });\n  };\n\n  handleSave = () => {\n    this.props.createProject(this.state.project);\n    this.props.updateCVLastUpdate();\n    this.props.onHide();\n    Swal.fire({\n      title: successTitle[this.props.language],\n      type: \"success\",\n      confirmButtonColor: \"#4bb3cc\",\n      heightAuto: false,\n      confirmButtonText: \"Okay\"\n    });\n  };\n\n  handleUpdate = () => {\n    this.props.updateProject({\n      object: this.state.project,\n      index: this.props.id\n    });\n    this.props.updateCVLastUpdate();\n    this.props.onHide();\n    Swal.fire({\n      title: successTitle[this.props.language],\n      type: \"success\",\n      confirmButtonColor: \"#4bb3cc\",\n      heightAuto: false,\n      confirmButtonText: \"Okay\"\n    });\n  };\n\n  findInArray(data, name) {\n    let length = data.length;\n    for (let i = 0; i < length; i++) {\n      let index = data[i][\"@type\"].indexOf(name);\n      let newlength = data[i][\"@type\"].length;\n      if (index >= 0 && index + name.length >= newlength) {\n        return i;\n      }\n    }\n  }\n\n  renderLabel(translated, name, lang) {\n    let index = this.findInArray(translated, name);\n    if (\n      translated[index] === undefined ||\n      translated[index][lang] === undefined\n    ) {\n      return name;\n    } else {\n      return translated[index][lang];\n    }\n  }\n\n  handleRenderingSubmitButton = lang => {\n    let isDisabled = this.state.project[\"my0:projectName\"] === \"\";\n    if (!this.props.isUpdate) {\n      return (\n        <Button\n          disabled={isDisabled}\n          type=\"submit\"\n          variant=\"primary\"\n          onClick={this.handleSave}\n        >\n          {saveLabel[lang]}\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          disabled={isDisabled}\n          type=\"submit\"\n          variant=\"primary\"\n          onClick={this.handleUpdate}\n        >\n          {updateLabel[lang]}\n        </Button>\n      );\n    }\n  };\n\n  render() {\n    let {\n      \"my0:projectName\": projectName,\n      \"my0:projectIsCurrent\": projectIsCurrent,\n      \"my0:projectStartDate\": projectStartDate,\n      \"my0:projectEndDate\": projectEndDate,\n      \"my0:projectCreator\": projectCreator,\n      \"my0:projectRole\": projectRole,\n      \"my0:projectURL\": projectURL,\n      \"my0:projectDescription\": projectDescription\n    } = this.state.project;\n\n    let { onHide } = this.props;\n\n    let lang = this.state.language;\n\n    let { translatedProps } = this.props;\n\n    let changeLanguage = (value) => this.setState({ language: value });\n\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        className=\"reference-modal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            <Row>\n              <Col md={12}>\n                {this.props.isUpdate\n                  ? projectUpdateTitle[lang]\n                  : projectAddTitle[lang]}\n              </Col>\n            </Row>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Row style={{ alignItems: \"flex-start\", margin: \"0\", marginRight: '10px' }}>\n            <Row\n              style={{\n                justifyContent: \"flex-start\",\n                alignItems: \"flex-start\",\n                display: \"flex\",\n                margin: \"0px\",\n                width: \"100%\"\n              }}\n            >\n              <Col md={9} style={{ paddingLeft: \"0\" }}>\n                <CustomInput\n                  id=\"my0:projectName\"\n                  name=\"project\"\n                  label={\n                    this.renderLabel(translatedProps, \"projectName\", lang) +\n                    \" *\"\n                  }\n                  type=\"text\"\n                  value={this.findTranslatedValue(projectName, lang)}\n                  handleChange={(e) => this.handleInputChange(e, lang)}\n                />\n              </Col>\n              <Col md={3} style={{ paddingRight: \"0\" }}>\n                <CustomCheckbox\n                  id=\"my0:projectIsCurrent\"\n                  type=\"checkbox\"\n                  label={this.renderLabel(\n                    translatedProps,\n                    \"projectIsCurrent\",\n                    lang\n                  )}\n                  checked={projectIsCurrent}\n                  handleChange={this.handleCheckboxChange}\n                />\n              </Col>\n            </Row>\n            <Row\n              style={{\n                justifyContent: \"flex-start\",\n                alignItems: \"flex-start\",\n                display: \"flex\",\n                margin: \"0px\",\n                width: \"100%\"\n              }}\n            >\n              <Col md={6} style={{ paddingLeft: \"0\" }}>\n                <CustomInput\n                  id=\"my0:projectStartDate\"\n                  name=\"project\"\n                  label={this.renderLabel(\n                    translatedProps,\n                    \"projectStartDate\",\n                    lang\n                  )}\n                  type=\"date\"\n                  value={projectStartDate}\n                  handleChange={this.handleInputChange}\n                />\n              </Col>\n              <Col md={6} style={{ paddingRight: \"0\" }}>\n                <CustomInput\n                  id=\"my0:projectEndDate\"\n                  name=\"project\"\n                  label={this.renderLabel(\n                    translatedProps,\n                    \"projectEndDate\",\n                    lang\n                  )}\n                  type=\"date\"\n                  value={projectEndDate}\n                  handleChange={this.handleInputChange}\n                />\n              </Col>\n            </Row>\n            <div style={{ width: \"100%\", marginTop: \"10px\" }}>\n              <CustomInput\n                id=\"my0:projectRole\"\n                name=\"project\"\n                label={this.renderLabel(\n                  translatedProps,\n                  \"projectRole\",\n                  lang\n                )}\n                type=\"text\"\n                value={this.findTranslatedValue(projectRole, lang)}\n                handleChange={(e) => this.handleInputChange(e, lang)}\n              />\n            </div>\n            <div style={{ width: \"100%\", marginTop: \"10px\" }}>\n              <CustomInput\n                id=\"my0:projectCreator\"\n                name=\"project\"\n                label={this.renderLabel(\n                  translatedProps,\n                  \"projectCreator\",\n                  lang\n                )}\n                type=\"text\"\n                value={this.findTranslatedValue(projectCreator, lang)}\n                handleChange={(e) => this.handleInputChange(e, lang)}\n              />\n            </div>\n            <div style={{ width: \"100%\", marginTop: \"10px\" }}>\n              <CustomInput\n                id=\"my0:projectURL\"\n                name=\"project\"\n                label={this.renderLabel(translatedProps, \"projectURL\", lang)}\n                type=\"text\"\n                value={projectURL}\n                handleChange={this.handleInputChange}\n              />\n            </div>\n            <div style={{ width: \"100%\", marginTop: \"10px\" }}>\n              <CustomTextarea\n                id=\"my0:projectDescription\"\n                name=\"project\"\n                label={this.renderLabel(\n                  translatedProps,\n                  \"projectDescription\",\n                  lang\n                )}\n                value={this.findTranslatedValue(projectDescription, lang)}\n                handleChange={(e) => this.handleInputChange(e, lang)}\n              />\n            </div>\n          </Row>\n        </Modal.Body>\n        <Modal.Footer>\n          <Combobox onChange={changeLanguage} value={lang} defaultValue={\"en\"} containerClassName=\"languagebox\" data={languages} itemComponent={ListItem} />\n          {this.handleRenderingSubmitButton(lang)}\n          <Button className=\"btn-reset\" onClick={this.clearForm}>\n            {resetLabel[lang]}\n          </Button>\n          <Button variant=\"danger\" onClick={onHide}>\n            {cancelLabel[lang]}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nconst mapstateToProps = (state, ownProps) => {\n  return {\n    initialValues: state.cv[\"my0:hasProject\"][ownProps.id],\n    language: state.utility.language,\n    translatedProps: retrieveMainProperties(state.utility[\"my0:Project\"])\n  };\n};\n\nexport default connect(\n  mapstateToProps,\n  { createProject, updateLanguage, updateCVLastUpdate, updateProject, fetchMainPropertiess }\n)(ProjectModal);\n"]},"metadata":{},"sourceType":"module"}